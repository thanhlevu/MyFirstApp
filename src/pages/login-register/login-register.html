<ion-content padding center text-center>
  <ion-title>REGISTER</ion-title>
  <form #form="ngForm">
    <ion-item *ngIf="!this.onRegister">
      <ion-label color="primary" floating>Username</ion-label>
      <ion-input
        type="text"
        [(ngModel)]="user.username"
        name="username"
        ngModel
        required
      ></ion-input>
    </ion-item>
    <p *ngIf="!form.controls.username?.errors?.required">Username is reuired</p>
    <ion-item *ngIf="this.onRegister">
      <ion-label color="primary" floating>Username</ion-label>
      <ion-input
        type="text"
        [(ngModel)]="user.username"
        name="username"
        ngModel
        required
        (ionBlur)="checkUsername()"
      ></ion-input>
    </ion-item>
    <ion-item *ngIf="this.onRegister">
      <ion-label color="primary" floating>Full Name</ion-label>
      <ion-input
        type="text"
        [(ngModel)]="user.full_name"
        name="fullname"
        ngModel
      ></ion-input>
    </ion-item>
    <ion-item>
      <ion-label color="primary" floating>Password</ion-label>
      <ion-input
        type="Password"
        ngModel
        [(ngModel)]="user.password"
        name="password"
        required
      ></ion-input>
    </ion-item>
    <ion-item *ngIf="this.onRegister">
      <ion-label color="primary" floating>Password</ion-label>
      <ion-input
        type="Password"
        ngModel
        [(ngModel)]="user.password2"
        name="password2"
        required
        (ionBlur)="confirmPassword()"
      ></ion-input>
    </ion-item>
    <ion-item *ngIf="this.onRegister">
      <ion-label color="primary" floating>Email</ion-label>
      <ion-input type="email" name="email" required></ion-input>
    </ion-item>
    <button
      ion-button
      block
      color="secondary"
      type="submit"
      required
      (click)="loginClicked(form)"
      *ngIf="!this.onRegister"
    >
      Login
    </button>
    <button ion-button (click)="openRegisterForm()" *ngIf="!this.onRegister">
      No account yet?
    </button>
    <button
      ion-button
      block
      color="secondary"
      type="submit"
      (click)="registerClicked(form)"
      *ngIf="this.onRegister"
    >
      Register
    </button>
  </form>
</ion-content>
